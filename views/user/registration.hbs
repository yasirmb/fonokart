<!-- Start Banner Area -->
<section class="banner-area organic-breadcrumb">
	<div class="container">
		<div class="breadcrumb-banner d-flex flex-wrap align-items-center justify-content-end">
			<div class="col-first">
				<h1>Login/Register</h1>
				<nav class="d-flex align-items-center">
					<a href="index.html">Home<span class="lnr lnr-arrow-right"></span></a>
					<a href="category.html">Login/Register</a>
				</nav>
			</div>
		</div>
	</div>
</section>
<!-- End Banner Area -->
<!--================Login Box Area =================-->

<section class="login_box_area section_gap" style="padding-top:3%;">
	<div class=" container">
		<div class="row">
			<div class="col-lg-6">
				<div class="login_box_img">
					<img class="img-fluid" src="img/login.jpg" alt="">
					<div class="hover">
						<h4>Already Have an Account?</h4>
						<p>You can login to your existing account using credentials or you can login via OTP also.</p>
						<a class="primary-btn" href="/login">Log Into your account</a>
					</div>
				</div>
			</div>
			<div class="col-lg-6">
				<div class="login_form_inner" style="padding-top:50px ;">
					{{#if errMessage}}
					<h6 style="color: red;">{{errMessage}}</h6>
					{{else}}
					<h3>Sign Up</h3>
					{{/if}}
					<form id="form1" action="/signupSubmit" method="post" class="form1">
						<div class="form-control1">
							<label for="username">Username</label>
							<input type="text" placeholder="User Name" name="name" id="username" />
							<i class="fas fa-check-circle"></i>
							<i class="fas fa-exclamation-circle"></i>
							<small>Error message</small>
						</div>
						<div class="form-control1">
							<label for="username">Email</label>
							<input type="email" placeholder="user@mail.com" name="email" id="email" />
							<i class="fas fa-check-circle"></i>
							<i class="fas fa-exclamation-circle"></i>
							<small>Error message</small>
						</div>
						<div class="form-control1">
							<label for="username">Mobile</label>
							<input type="tel" placeholder="+91 123456789" name="mobile" id="mobile" />
							<i class="fas fa-check-circle"></i>
							<i class="fas fa-exclamation-circle"></i>
							<small>Error message</small>
						</div>
						<div class="form-control1">
							<label for="username">Password</label>
							<input type="password" placeholder="Password" name="password" id="password" />
							<i class="fas fa-check-circle"></i>
							<i class="fas fa-exclamation-circle"></i>
							<small>Error message</small>
						</div>
						<div class="form-control1">
							<label for="username">Confirm Password</label>
							<input type="password" placeholder="Re type Password" name="repassword" id="password2" />
							<i class="fas fa-check-circle"></i>
							<i class="fas fa-exclamation-circle"></i>
							<small>Error message</small>
						</div>
						<button type="submit" value="submit" class="btn primary-btn">Sign Up</button>
					</form>




					<script>
						const form = document.getElementById('form1');
						const username = document.getElementById('username');
						const email = document.getElementById('email');
						const password = document.getElementById('password');
						const password2 = document.getElementById('password2');
						const mobile = document.getElementById('mobile');
						let flag;
						let flag1;
						let flag2;
						let flag3;
						let flag4;
						form.addEventListener('submit', e => {
							checkInputs();
							if (flag1 == true && flag == true && flag2 == true && flag3 == true && flag4 == true) {
								return true;
							}
							else {
								e.preventDefault();
							}
						});
						function checkInputs() {
							// trim to remove the whitespaces
							const usernameValue = username.value.trim();
							const emailValue = email.value.trim();
							const passwordValue = password.value.trim();
							const password2Value = password2.value.trim();
							const mobileValue = mobile.value.trim();

							if (usernameValue === '') {
								setErrorFor(username, 'Username cannot be blank');
								flag = false;
							} else if (!isName(usernameValue)) {
								setErrorFor(username, 'Not a valid name');
								flag = false;
							} else {
								setSuccessFor(username);
								flag = true;
							}
							if (emailValue === '') {
								setErrorFor(email, 'Email cannot be blank');
								flag1 = false;
							} else if (!isEmail(emailValue)) {
								setErrorFor(email, 'Not a valid email');
								flag1 = false;
							} else {
								setSuccessFor(email);
								flag1 = true;
							}
							if (mobile === '') {
								setErrorFor(mobile, 'Mobile cannot be blank');
								flag2 = false;
							} else if (!isMobile(mobileValue)) {
								setErrorFor(mobile, 'Not a valid Number');
								flag2 = false;
							} else {
								setSuccessFor(mobile);
								flag2 = true;
							}
							if (passwordValue === '') {
								setErrorFor(password, 'Password cannot be blank');
								flag3 = false;
							} else if (!isPassword(passwordValue)) {
								setErrorFor(password, 'Password must contain at least 1 digit and at least  7 characters long');
								flag3 = false;
							} else {
								setSuccessFor(password);
								flag3 = true;
							}
							if (password2Value === '') {
								setErrorFor(password2, 'Password cannot be blank');
								flag4 = false;
							} else if (passwordValue !== password2Value) {
								setErrorFor(password2, 'Passwords does not match');
								flag4 = false;
							} else {
								setSuccessFor(password2);
								flag4 = true;;
							}
						}
						function setErrorFor(input, message) {
							const formControl = input.parentElement;
							const small = formControl.querySelector('small');
							formControl.className = 'form-control1 error';
							small.innerText = message;
						}
						function setSuccessFor(input) {
							const formControl = input.parentElement;
							formControl.className = 'form-control1 success';
						}
						function isEmail(email) {
							return /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(email);
						}
						function isMobile(mobile) {
							return /^(\+\d{1,3}[- ]?)?\d{10}$/.test(mobile);
						}
						function isName(username) {
							return /^[a-z ,.'-]+$/.test(username);
						}
						function isPassword(password) {
							 return /^(?=.*[a-zA-Z])(?=.*\d)[a-zA-Z\d]{8,}$/.test(password);
						}
					</script>

					{{!-- <form class="row login_form" action="/signup" method="post" id="contactForm"
						novalidate="novalidate">
						<div class="col-md-12">
							<div class="form-group">
								<input type="text" class="form-control" id="name" name="name"
									placeholder="Enter Your Name" onfocus="this.placeholder = ''"
									onblur="this.placeholder = 'Enter your name'">
							</div>
							<div class="form-group">
								<input type="text" class="form-control" id="email" name="email"
									placeholder="Enter Your Email" onfocus="this.placeholder = ''"
									onblur="this.placeholder = 'Enter Your Email'">
							</div>
							<div class="form-group">
								<input type="tel" class="form-control" id="mobile" name="mobile"
									placeholder="Enter Your Mobile" onfocus="this.placeholder = ''"
									onblur="this.placeholder = 'Enter Your Mobile'">
							</div>
							<div class="form-group">
								<input type="password" class="form-control" id="password" name="password"
									placeholder="Enter a Password" onfocus="this.placeholder = ''"
									onblur="this.placeholder = 'Enter a Password'">
							</div>
							<div class="form-group">
								<small id="passerr" style="color:red;"></small>
								<input type="password" class="form-control" id="rePassword" name="repassword"
									placeholder="Confirm Password" onfocus="this.placeholder = ''"
									onblur="this.placeholder = 'Confirm Password'">
							</div>
						</div>
						<div class="mt-3 col-md-12 form-group">
							<button type="submit" value="submit" class="primary-btn">Sign Up</button>
						</div>
					</form> --}}
				</div>
			</div>
		</div>
	</div>
</section>
<!--================End Login Box Area =================-->